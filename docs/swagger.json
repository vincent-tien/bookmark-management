{
    "swagger": "2.0",
    "info": {
        "description": "Bookmark Management API is a RESTful service",
        "title": "Bookmark Management API",
        "contact": {},
        "version": "1.0.2"
    },
    "paths": {
        "/health-check": {
            "get": {
                "description": "check health",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "utils"
                ],
                "summary": "health check",
                "responses": {}
            }
        },
        "/v1/links/redirect/{code}": {
            "get": {
                "description": "Redirects user to the original URL based on the short code",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Links"
                ],
                "summary": "Redirect to original URL",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Short code",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "302": {
                        "description": "Redirect to original URL"
                    },
                    "404": {
                        "description": "URL not found",
                        "schema": {
                            "$ref": "#/definitions/dto.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/dto.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/links/shorten": {
            "post": {
                "description": "Generate a short URL with expiration time",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Links"
                ],
                "summary": "Create a shortened link",
                "parameters": [
                    {
                        "description": "Shorten link request payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.LinkShortenRequestDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.LinkShortenResponseDto"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or validation error",
                        "schema": {
                            "$ref": "#/definitions/dto.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/dto.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/v1/self/info": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get user profile information",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Get user profile",
                "responses": {
                    "200": {
                        "description": "User profile",
                        "schema": {
                            "$ref": "#/definitions/dto.UserProfileResponseDto"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update user profile information (display name and/or email)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Update user profile",
                "parameters": [
                    {
                        "description": "User profile update request payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateUserProfileRequestDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Profile updated successfully",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or validation error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/v1/users/login": {
            "post": {
                "description": "Login a user with username and password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "User Login",
                "parameters": [
                    {
                        "description": "User login request payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.LoginRequestDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully logged in user",
                        "schema": {
                            "$ref": "#/definitions/dto.LoginSuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or validation error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        },
        "/v1/users/register": {
            "post": {
                "description": "Register a new user with display name, email, username, and password",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "User Registration",
                "parameters": [
                    {
                        "description": "User registration request payload",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.RegisterRequestDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully registered user",
                        "schema": {
                            "$ref": "#/definitions/dto.RegisterSuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid request body or validation error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/response.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "dto.ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Error code\nexample: VALIDATION_ERROR",
                    "type": "string"
                },
                "message": {
                    "description": "Error message\nexample: invalid url format",
                    "type": "string"
                }
            }
        },
        "dto.LinkShortenRequestDto": {
            "type": "object",
            "required": [
                "url"
            ],
            "properties": {
                "exp": {
                    "description": "Expiration time in seconds for the shortened link\nMust be greater than or equal to 1\ndescription: Time-to-live of the shortened URL (TTL)\nminimum: 1\nexample: 3600",
                    "type": "integer"
                },
                "url": {
                    "description": "Original URL that will be shortened\nMust be a valid URL format (http or https)\n\nrequired: true\nformat: url\nexample: https://example.com",
                    "type": "string"
                }
            }
        },
        "dto.LinkShortenResponseDto": {
            "type": "object",
            "properties": {
                "code": {
                    "description": "Short code of the generated URL\nexample: abc123",
                    "type": "string"
                },
                "message": {
                    "description": "Success message\nexample: Shorten URL generated successfully!",
                    "type": "string"
                }
            }
        },
        "dto.LoginRequestDto": {
            "type": "object",
            "properties": {
                "password": {
                    "description": "Password\nrequired: true\nexample: SecurePass123!",
                    "type": "string",
                    "minLength": 8
                },
                "username": {
                    "description": "Username\nrequired: true\nexample: johndoe",
                    "type": "string"
                }
            }
        },
        "dto.LoginSuccessResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "JWT token\nexample: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...",
                    "type": "string"
                },
                "message": {
                    "description": "Success message\nexample: Logged in successfully!",
                    "type": "string"
                }
            }
        },
        "dto.RegisterRequestDto": {
            "type": "object",
            "required": [
                "display_name",
                "email",
                "password",
                "username"
            ],
            "properties": {
                "display_name": {
                    "description": "User's display name\nrequired: true\nexample: John Doe",
                    "type": "string"
                },
                "email": {
                    "description": "User's email address\nrequired: true\nformat: email\nexample: john@example.com",
                    "type": "string"
                },
                "password": {
                    "description": "User's password (minimum 8 characters, must contain uppercase, lowercase, number, and special character)\nrequired: true\nminLength: 8\nexample: SecurePass123!",
                    "type": "string",
                    "minLength": 8
                },
                "username": {
                    "description": "User's unique username\nrequired: true\nexample: johndoe",
                    "type": "string"
                }
            }
        },
        "dto.RegisterResponseDto": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Account creation timestamp\nexample: 2024-01-01T00:00:00Z",
                    "type": "string"
                },
                "display_name": {
                    "description": "User's display name\nexample: John Doe",
                    "type": "string"
                },
                "email": {
                    "description": "User's email address\nexample: john@example.com",
                    "type": "string"
                },
                "id": {
                    "description": "User ID\nexample: 123",
                    "type": "string"
                },
                "updated_at": {
                    "description": "Last update timestamp\nexample: 2024-01-01T00:00:00Z",
                    "type": "string"
                },
                "username": {
                    "description": "User's username\nexample: johndoe",
                    "type": "string"
                }
            }
        },
        "dto.RegisterSuccessResponse": {
            "type": "object",
            "properties": {
                "data": {
                    "description": "User registration data",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dto.RegisterResponseDto"
                        }
                    ]
                },
                "message": {
                    "description": "Success message\nexample: Register an user successfully!",
                    "type": "string"
                }
            }
        },
        "dto.UpdateUserProfileRequestDto": {
            "type": "object",
            "required": [
                "email"
            ],
            "properties": {
                "display_name": {
                    "description": "User's display name\nexample: John Doe",
                    "type": "string"
                },
                "email": {
                    "description": "User's email address\nexample: john@example.com",
                    "type": "string"
                }
            }
        },
        "dto.UserProfileResponseDto": {
            "type": "object",
            "properties": {
                "created_at": {
                    "description": "Account creation timestamp\nexample: 2024-01-01T00:00:00Z",
                    "type": "string"
                },
                "display_name": {
                    "description": "User's display name\nexample: John Doe",
                    "type": "string"
                },
                "email": {
                    "description": "User's email address\nexample: john@example.com",
                    "type": "string"
                },
                "id": {
                    "description": "User ID\nexample: 123",
                    "type": "string"
                },
                "updated_at": {
                    "description": "Last update timestamp\nexample: 2024-01-01T00:00:00Z",
                    "type": "string"
                },
                "username": {
                    "description": "User's username\nexample: johndoe",
                    "type": "string"
                }
            }
        },
        "response.Response": {
            "type": "object",
            "properties": {
                "details": {
                    "description": "Additional response details (optional)\nexample: [\"email is invalid email\", \"password is invalid min\"]"
                },
                "message": {
                    "description": "Response message\nexample: Invalid request",
                    "type": "string"
                }
            }
        }
    }
}